

CREATE TABLE Roles (
Id INT AUTO_INCREMENT PRIMARY KEY,
Role_type VARCHAR(10)
);

INSERT INTO Roles (Role_type) VALUES ('admin'), ('user'), ('seller');

CREATE TABLE Users (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  Name VARCHAR(100) NOT NULL,
  Surname VARCHAR(100) NOT NULL,
  Email VARCHAR(100) NOT NULL UNIQUE,
  Password VARCHAR(255) NOT NULL,
  Phone VARCHAR(20),
  RoleId INT,
  Created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (RoleId) REFERENCES Roles(Id)
);


CREATE TABLE Cars (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  Brand VARCHAR(50) NOT NULL,
  Model VARCHAR(50),
  Year INT,
  Price DECIMAL(10,2),
  Fuel_type ENUM('Benzin','Dizel','Elektrik','Hibrit'),
  Gear_type ENUM('Manuel','Otomatik'),
  Mileage INT,
  Color VARCHAR(50),
  Description TEXT,
  Location VARCHAR(100),
  UserId INT,
  Is_approved BOOLEAN DEFAULT FALSE,
  Created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  Updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE SET NULL
);

CREATE TABLE Images (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  CarId INT,
  Image_url VARCHAR(255),
  Created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (CarId) REFERENCES Cars(Id) ON DELETE SET NULL
);



